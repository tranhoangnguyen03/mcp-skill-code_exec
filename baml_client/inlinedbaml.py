# ----------------------------------------------------------------------------
#
#  Welcome to Baml! To use this generated code, please run the following:
#
#  $ pip install baml
#
# ----------------------------------------------------------------------------

# This file was generated by BAML: please do not edit it. Instead, edit the
# BAML files and re-generate this code using: baml-cli generate
# baml-cli is available with the baml package.

_file_map = {

    "chat.baml": "function WorkflowChat(user_message: string, skills_readme: string, custom_skill_md: string, conversation_history: string) -> ChatResponse {\n  client OpenRouterChat\n  prompt #\"\n    You are a helpful chat assistant for a workflow automation agent.\n\n    Goal: Respond to the user's message.\n    \n    Conversation history (most recent last):\n    {{ conversation_history }}\n\n    Context:\n    Supported capabilities:\n    {{ skills_readme }}\n\n    Custom scripts:\n    {{ custom_skill_md }}\n\n    User message: {{ user_message }}\n\n    Instructions:\n    1. If the user asks about capabilities, describe what THIS agent can do based on the Context.\n    2. If the user greets or asks something else, respond normally and briefly.\n    3. Do NOT claim capabilities outside the Context.\n    4. Do NOT output any reasoning or thoughts.\n    \n    {{ ctx.output_format }}\n  \"#\n}\n",
    "clients.baml": "client<llm> OpenRouterChat {\n  provider \"openai-generic\"\n  options {\n    base_url \"https://openrouter.ai/api/v1\"\n    model env.open_router_model_name\n    api_key env.open_router_api_key\n  }\n}\n",
    "executor.baml": "function WorkflowCodegen(\n  user_message: string,\n  plan_json: string,\n  skill_md: string,\n  tool_contracts: string,\n  attempt: int,\n  previous_error: string,\n  previous_code: string,\n  conversation_history: string\n) -> string {\n  client OpenRouterChat\n  prompt #\"\nWrite a complete, runnable Python script that fulfills the user request by strictly following the steps in the provided Plan JSON.\n\n### Inputs:\n- User request: {{ user_message }}\n- Plan JSON: {{ plan_json }}\n- Skill manual (SKILL.md): {{ skill_md }}\n- Tool contracts: {{ tool_contracts }}\n\nConversation history (most recent last):\n{{ conversation_history }}\n\n### Implementation Rules:\n1. STRICT ADHERENCE: Follow the steps in the Plan JSON exactly. Do not add steps or skip steps.\n2. PROGRESSIVE LOGGING: Print clear [INFO] or [PROGRESS] lines for each major step so the user can see what the agent is doing in real-time.\n3. ERROR HANDLING: Be defensive. Check tool outputs and handle cases where no matches are found (e.g. employee search). Print clear [ERROR] messages and exit with code 1 on fatal issues.\n4. DETERMINISM: If multiple items match a search, use a logical tie-breaker (e.g. exact name match) and print which one was chosen.\n5. NO PLACEHOLDERS: All code must be complete and runnable.\n\n### Multi-Turn / Continuation Support:\nIf the Plan JSON has `requires_lookahead: true`:\n- For CHECKPOINT steps (steps that discover information for downstream use):\n  - After completing the lookup/action, emit a fact using: `print(\"CONTINUE_FACT: <key>=<value>\")`\n  - Example: `print(\"CONTINUE_FACT: expert_domain=DevOps\")`\n  - Example: `print(\"CONTINUE_FACT: employee_name=Charlie Davis\")`\n  - After emitting the fact, print `print(\"CONTINUE_WORKFLOW: checkpoint_complete\")` and exit with code 0\n  - This signals the agent to pause, store the fact, and continue in the next turn\n\n- For FINAL steps (steps that use the discovered information):\n  - Read facts from the conversation context (they will be provided in the prompt as context)\n  - Use the stored facts to complete the workflow\n  - Do NOT emit CONTINUE signals - this is the final step\n\nIf the Plan JSON has `requires_lookahead: false`:\n- Execute all steps normally and print \"=== FINAL SUMMARY ===\" at the end\n\n### Constraints:\n- Use only Python standard library plus the local package \\\"mcp_tools\\\".\n- Import tool modules from \\\"mcp_tools\\\" (e.g. `import mcp_tools.bamboo_hr as bamboo_hr`).\n- Do not use input(), sys.argv, or any interactive prompts.\n- Print a clear \\\"=== FINAL SUMMARY ===\\\" at the end with key results.\n\nRetry context (if any):\nAttempt: {{ attempt }}\nPrevious error: {{ previous_error }}\nPrevious code: {{ previous_code }}\n\nReturn ONLY a single Python code block.\n\"#\n}\n\nfunction WorkflowRespond(\n  user_message: string,\n  plan_json: string,\n  executed_code: string,\n  exec_stdout: string,\n  exec_stderr: string,\n  exit_code: int,\n  attempts: int,\n  conversation_history: string\n) -> string {\n  client OpenRouterChat\n  prompt #\"\nYou are the assistant voice for a workflow automation agent.\n\nConversation history (most recent last):\n{{ conversation_history }}\n\nUser request:\n{{ user_message }}\n\nPlan JSON:\n{{ plan_json }}\n\nExecuted code:\n{{ executed_code }}\n\nExecution stdout:\n{{ exec_stdout }}\n\nExecution stderr:\n{{ exec_stderr }}\n\nExit code: {{ exit_code }}\n\nAttempts: {{ attempts }}\n\nWrite a concise response to the user describing what was done and key outputs.\nIf there were errors, explain them and propose a fix.\n\"#\n}\n",
    "generators.baml": "generator python_client {\n  output_type \"python/pydantic\"\n  output_dir \"../\"\n  version \"0.217.0\"\n  default_client_mode sync\n}\n",
    "planner.baml": "function WorkflowPlan(user_message: string, skills_readme: string, skill_names: string[], skill_groups: string[], conversation_history: string) -> Plan {\n  client OpenRouterChat\n  prompt #\"\nYou are a workflow planner for a skill-based automation agent.\n\nYou must choose exactly one action:\n- chat: respond conversationally; no workflows; no tools; no code.\n- execute_skill: use a known skill from the provided skill names.\n- custom_script: write a custom workflow using tools when no skill matches.\n\nChoose the action using this rubric:\n- Prefer chat only for purely conversational requests with no desired tool actions.\n- Prefer execute_skill ONLY when the user request requires the skill's core side-effects as described in the skill manual. Do not pick a skill just because the topic is related.\n- Prefer custom_script when:\n  - the user request is a strict subset of a known skill (e.g., only messaging, no ticketing/calendar/email), or\n  - using a known skill would add major actions the user did not ask for, or\n  - the user explicitly asks for minimal behavior (e.g., \"just send them a message\", \"only do X\").\n\nWhen in doubt between execute_skill and custom_script, choose custom_script to minimize unintended side effects.\n\nWhen action is execute_skill:\n- skill_name must be one of the provided skill names\n- set skill_group to the scope that contains the chosen skill, when possible\n- steps should be concise, high-level, and executable\n\nWhen action is chat:\n- skill_name and skill_group must be null\n- steps should be empty\n\nWhen action is custom_script:\n- skill_name may be null or a short label\n- skill_group should be one of the provided skill groups when the scope is clear (prefer setting it)\n- steps should be concise, high-level, and executable\n\n### Multi-Turn Detection (requires_lookahead)\n\nCRITICAL: Set `requires_lookahead` to `true` when:\n- The request requires looking up external data (e.g., employee info, candidate records, domain expertise) before deciding on subsequent actions.\n- The request mentions an entity (person, team, department) that needs discovery of its properties (domain, manager, lead, etc.) to proceed.\n- The workflow involves multiple logical stages where the output of stage N is required to define the parameters of stage N+1.\n\nExamples where `requires_lookahead` MUST be TRUE:\n- \"Assign Mr.Davis to interview candidates in his domain\" -> TRUE (Need Mr. Davis's domain first)\n- \"Find the manager of the employee in dept X and send them a message\" -> TRUE (Need to find the employee and then their manager)\n- \"Schedule a meeting with the lead of the DevOps team\" -> TRUE (Need to find the lead's identity first)\n- \"Send a follow-up to all candidates who interviewed yesterday\" -> TRUE (Need to find candidates who interviewed yesterday first)\n\nExamples where `requires_lookahead` should be FALSE:\n- \"List all employees in Engineering\" -> FALSE (Direct query)\n- \"Send a DM to Alice Chen\" -> FALSE (Direct action with known target)\n- \"Create a ticket for onboarding\" -> FALSE (Direct action)\n\nWhen `requires_lookahead` is true:\n- Set `checkpoints` to list the specific discovery steps (e.g., [\"lookup_davis_expertise\", \"search_domain_candidates\"]).\n- Ensure `steps` reflects the full high-level sequence of the workflow.\n- The first step or checkpoint MUST be the information gathering task.\n\nConversation history (most recent last):\n{{ conversation_history }}\n\nUser message:\n{{ user_message }}\n\nSupported skills:\n{{ skills_readme }}\n\nSkill names:\n{% for s in skill_names %}\n- {{ s }}\n{% endfor %}\n\nSkill groups:\n{% for g in skill_groups %}\n- {{ g }}\n{% endfor %}\n\n{{ ctx.output_format }}\n\"#\n}\n\nfunction WorkflowPlanReview(user_message: string, proposed_plan_json: string, selected_skill_md: string, conversation_history: string) -> Plan {\n  client OpenRouterChat\n  prompt #\"\nYou are a careful plan reviewer for a workflow automation agent.\n\nYou are given:\n- The user request\n- The proposed plan JSON (possibly selecting a known skill)\n- The selected skill manual content (if any)\n- Conversation history\n\nYour job is to decide whether the proposed plan is appropriate, minimal, and correctly identifies if multi-turn lookahead is required.\n\nCRITICAL RULES:\n1. If the request requires discovering information (like a person's domain, a manager, or a list of specific candidates) before performing the main action, `requires_lookahead` MUST be `true`.\n2. If `requires_lookahead` is `true`, `checkpoints` must contain the discovery steps.\n\nExample Review:\nUser: \"Assign Mr. Davis to his domain's candidates\"\nProposed Plan: { \"requires_lookahead\": false, ... }\nReview: This is INCORRECT. It needs `requires_lookahead: true` because Mr. Davis's domain must be looked up first.\n\n{{ conversation_history }}\n\nUser message:\n{{ user_message }}\n\nProposed Plan JSON:\n{{ proposed_plan_json }}\n\nSkill Manual:\n{{ selected_skill_md }}\n\n{{ ctx.output_format }}\n\"#\n}\n",
    "types.baml": "class Plan {\n  action string\n  skill_group string?\n  skill_name string?\n  intent string\n  steps string[]\n  // Multi-turn support fields\n  requires_lookahead bool // Set to true when the request needs external data lookup before execution\n  checkpoints string[]   // Steps that produce facts for downstream use (e.g., [\"lookup_employee\", \"discover_domain\"])\n}\n\nclass ChatResponse {\n  final_response string\n}\n",
}

def get_baml_files():
    return _file_map