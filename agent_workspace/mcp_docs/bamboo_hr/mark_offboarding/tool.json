{
  "name": "mark_offboarding",
  "description": "Mark an employee as offboarding effective on a given date (or today if null).",
  "inputSchema": {
    "type": "object",
    "properties": {
      "employee_id": { "type": "integer" },
      "effective_date": { "type": ["string", "null"], "description": "YYYY-MM-DD. Defaults to today if null." }
    },
    "required": ["employee_id"],
    "additionalProperties": false
  },
  "outputSchema": { "$ref": "#/$defs/Employee" },
  "$defs": {
    "Employee": {
      "type": "object",
      "properties": {
        "id": { "type": "integer" },
        "name": { "type": "string" },
        "dept": { "type": "string" },
        "role": { "type": "string" },
        "status": { "type": "string" },
        "hire_date": { "type": "string" },
        "manager": { "type": "string" },
        "slack_id": { "type": "string" },
        "manager_slack_id": { "type": "string" }
      },
      "required": ["id", "name", "dept", "role", "status", "hire_date", "manager", "slack_id", "manager_slack_id"],
      "additionalProperties": false
    }
  },
  "errors": [
    {
      "type": "ValueError",
      "when": "employee_id does not exist"
    },
    {
      "type": "ValueError",
      "when": "effective_date is not in YYYY-MM-DD format"
    }
  ]
}

